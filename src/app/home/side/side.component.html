<div class="wrapper p-4">
  <div class="avatar flex justify-between pt-2 mb-2">
    <div
      *ngIf="{ hasUpdate: hasUpdate$ | async } as vm"
      class="wrapper-avatar"
      [attr.data-tooltip]="
        vm.hasUpdate ? 'New version available ðŸš€' : 'Nguyen Dai'
      "
      [class.has-new-version]="vm.hasUpdate"
    >
      <ng-container
        *ngIf="!vm.hasUpdate"
        [ngTemplateOutlet]="tmplNoNewVersion"
        [ngTemplateOutletContext]="{ vm: vm }"
      >
      </ng-container>
      <ng-container
        *ngIf="vm.hasUpdate"
        [ngTemplateOutlet]="tmplNewVersion"
        [ngTemplateOutletContext]="{ vm: vm }"
      >
      </ng-container>
    </div>
    <div class='flex items-center'>
      <img src='assets/images/vi.png' alt='' style='width: 40px; height: 20px' class='cursor-pointer vi-flag' (click)="onChangeLanguage('vi')">
      <img src='assets/images/en.svg' alt='' style='width: 40px; height: 20px' class='cursor-pointer' (click)="onChangeLanguage('en')">
    </div>
  </div>
  <div class="name">Nguyen Dai</div>
  <div class="text-sm">{{'info_myself' | transloco}}</div>
  <app-navigation></app-navigation>
  <app-social-icon></app-social-icon>
  <app-copy-right></app-copy-right>
</div>

<ng-template #tmplNoNewVersion let-vm="vm">
  <img
    class="rounded-full w-16"
    [class.pointer-events-none]="!vm.hasUpdate"
    [class.cursor-pointer]="vm.hasUpdate"
    src="assets/avatar-cover.jpeg"
    alt=""
  />
</ng-template>

<ng-template #tmplNewVersion let-vm="vm">
  <abbr
    title="
Click here to download a new version"
  >
    <img
      class="rounded-full w-16"
      [class.pointer-events-none]="!vm.hasUpdate"
      [class.cursor-pointer]="vm.hasUpdate"
      src="assets/avatar-cover.jpeg"
      alt=""
      (click)="reload(vm.hasUpdate)"
    /> </abbr
></ng-template>
